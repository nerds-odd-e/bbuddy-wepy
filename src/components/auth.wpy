<template/>
<script>
  import wepy from 'wepy'
  import {connect} from 'wepy-redux'

  @connect({
    needLogin(state) {
      return state.auth.needLogin
    }
  }, {})

  export default class Auth extends wepy.component {
    watch = {
      needLogin(newValue, oldValue) {
        if (newValue) {
          wepy.navigateTo({
            url: '/pages/login'
          })
        } else {
          wepy.navigateBack()
        }
      }
    }
  }
</script>
